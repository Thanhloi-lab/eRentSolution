@model List<eRentSolution.ViewModels.Catalog.Categories.CategoryViewModel>
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration;
<div class="box-category">
    <p class="category__heading">Khám phá danh mục</p>
    <div class="category-slider ">
        @{ var parents = Model.Where(x => x.ParentId == null); }
        @for (int i = 0; i < parents.Count(); i++)
        {
            var parent = parents.ElementAt(i);
            var childrens = Model.Where(x => x.ParentId == parent.Id);
            if (childrens.Any())
            {
                @foreach (var item in childrens)
                {
                <div class="category-item">
                    <a href="/Categories/@item.Id">
                        <img src=@Configuration["BaseAddress"]/user-content/@item.Image alt=@item.Name>
                        <span>@item.Name</span>
                    </a>
                </div>
                } 
            }
            else
            {
                <div class="category-item">
                    <a href="/Categories/@parent.Id">
                        <img src=@Configuration["BaseAddress"]/user-content/@parent.Image alt=@parent.Name>
                        <span>@parent.Name</span>
                    </a>
                </div>
            }
        }
    </div>
</div>
